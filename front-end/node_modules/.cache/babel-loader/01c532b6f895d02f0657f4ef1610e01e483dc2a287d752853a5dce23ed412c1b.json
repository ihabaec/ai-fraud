{"ast":null,"code":"var _jsxFileName = \"/home/ihab/Real-Time-Fraud-Detection-System/FraudDetApp-frontend/src/components/Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\n\n// Using original component names\n\nimport RealTimeChart from './RealTimeChart_1';\nimport TransactionHistory from './TransactionHistory';\nimport FraudAlerts from './FraudAlerts';\nimport TransactionDetails from './TransactionDetails';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FraudDetectionDashboard = () => {\n  _s();\n  // State management using original state variable names\n  const [predictions, setPredictions] = useState([]);\n  const [transactions, setTransactions] = useState([]);\n  const [selectedTransaction, setSelectedTransaction] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [connectionStatus, setConnectionStatus] = useState('connecting');\n  const [stats, setStats] = useState({\n    total: 0,\n    flagged: 0,\n    recentVolume: 0\n  });\n\n  // Connection management with retry logic\n  useEffect(() => {\n    let reconnectAttempts = 0;\n    const maxReconnectAttempts = 5;\n    const connectToServer = () => {\n      setConnectionStatus('connecting');\n      const socket = new WebSocket(\"ws://localhost:8000/ws/fraud_detection/\");\n      socket.onopen = event => {\n        console.log(\"WebSocket connection opened\", event);\n        setConnectionStatus('connected');\n        reconnectAttempts = 0;\n      };\n      socket.onmessage = event => {\n        const data = JSON.parse(event.data);\n        console.log(\"WebSocket message received:\", data);\n\n        // Check if we have a \"message\" field (connection confirmation)\n        if (data.message) {\n          console.log(\"Connection message:\", data.message);\n          return;\n        }\n\n        // Check if we received a prediction result\n        if (data.predictions && data.transaction) {\n          console.log(\"Adding new transaction:\", data.transaction);\n          console.log(\"With prediction:\", data.predictions);\n\n          // Use functional updates to ensure state is correctly updated\n          setPredictions(prev => [...prev, data.predictions]);\n          setTransactions(prev => [...prev, data.transaction]);\n\n          // Update statistics\n          setStats(prevStats => {\n            const isFraudulent = isFlaggedAsFraud(data.predictions);\n            return {\n              total: prevStats.total + 1,\n              flagged: isFraudulent ? prevStats.flagged + 1 : prevStats.flagged,\n              recentVolume: prevStats.recentVolume + (data.transaction.amount || 0)\n            };\n          });\n        } else if (data.prediction) {\n          // Handle the format where it's just \"prediction\" (not \"predictions\")\n          console.log(\"Adding new prediction:\", data.prediction);\n          setPredictions(prev => [...prev, data.prediction]);\n\n          // If there's transaction data available\n          if (data.transaction) {\n            setTransactions(prev => [...prev, data.transaction]);\n\n            // Update statistics\n            setStats(prevStats => {\n              const isFraudulent = isFlaggedAsFraud(data.prediction);\n              return {\n                total: prevStats.total + 1,\n                flagged: isFraudulent ? prevStats.flagged + 1 : prevStats.flagged,\n                recentVolume: prevStats.recentVolume + (data.transaction.amount || 0)\n              };\n            });\n          }\n        }\n      };\n      socket.onerror = error => {\n        console.error(\"WebSocket error:\", error);\n        setConnectionStatus('disconnected');\n      };\n      socket.onclose = event => {\n        console.log(\"WebSocket connection closed:\", event);\n        setConnectionStatus('disconnected');\n\n        // Implement exponential backoff for reconnection\n        if (reconnectAttempts < maxReconnectAttempts) {\n          const timeout = Math.pow(2, reconnectAttempts) * 1000;\n          console.log(`Attempting reconnection in ${timeout / 1000} seconds...`);\n          setTimeout(() => {\n            reconnectAttempts++;\n            connectToServer();\n          }, timeout);\n        } else {\n          console.error(\"Maximum reconnection attempts reached\");\n        }\n      };\n      return socket;\n    };\n    const socket = connectToServer();\n    return () => {\n      socket.close();\n    };\n  }, []);\n\n  // Helper function to determine if a transaction is flagged as fraud\n  const isFlaggedAsFraud = prediction => {\n    if (!prediction) return false;\n    return prediction.xgboost === 1 || prediction.random_forest === 1 || prediction.logistic === 1;\n  };\n\n  // Event handlers\n  const handleSelectTransaction = transaction => {\n    setSelectedTransaction(transaction);\n    setIsModalOpen(true);\n  };\n  const closeModal = () => {\n    setIsModalOpen(false);\n    setSelectedTransaction(null);\n  };\n\n  // Calculate metrics based on current state, using original metrics structure\n  const metrics = {\n    totalTransactions: transactions.length,\n    fraudulentTransactions: predictions.filter(p => p.xgboost === 1 || p.random_forest === 1 || p.logistic === 1).length,\n    accuracies: {\n      logistic: 0.85,\n      random_forest: 0.92,\n      xgboost: 0.95\n    }\n  };\n\n  // Prepare data for model comparison chart\n  const modelData = [{\n    name: 'Logistic Reg.',\n    accuracy: metrics.accuracies.logistic,\n    color: '#8884d8'\n  }, {\n    name: 'Random Forest',\n    accuracy: metrics.accuracies.random_forest,\n    color: '#82ca9d'\n  }, {\n    name: 'XGBoost',\n    accuracy: metrics.accuracies.xgboost,\n    color: '#ffc658'\n  }];\n\n  // Get high risk transactions\n  const highRiskTransactions = transactions.map((transaction, index) => ({\n    transaction,\n    prediction: predictions[index]\n  })).filter(item => isFlaggedAsFraud(item.prediction)).slice(0, 5);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-slate-50 min-h-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-blue-500 text-white p-4 shadow-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold\",\n            children: \"Fraud Detection Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-light\",\n            children: \"Real-time transaction monitoring system\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `px-3 py-1 rounded-full text-sm font-medium ${connectionStatus === 'connected' ? 'bg-green-100 text-green-800' : connectionStatus === 'connecting' ? 'bg-yellow-100 text-yellow-800' : 'bg-red-100 text-red-800'}`,\n          children: connectionStatus === 'connected' ? 'Connected' : connectionStatus === 'connecting' ? 'Connecting...' : 'Disconnected'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"container mx-auto p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-gray-500 text-sm font-medium mb-2\",\n            children: \"Total Transactions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-3xl font-bold\",\n            children: metrics.totalTransactions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-gray-500 text-sm font-medium mb-2\",\n            children: \"Fraudulent Transactions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-3xl font-bold text-red-600\",\n            children: metrics.fraudulentTransactions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: [metrics.totalTransactions > 0 ? `${(metrics.fraudulentTransactions / metrics.totalTransactions * 100).toFixed(1)}%` : '0%', \" Fraud Rate\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-gray-500 text-sm font-medium mb-2\",\n            children: \"Transaction Volume\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-3xl font-bold\",\n            children: [\"$\", stats.recentVolume.toLocaleString(undefined, {\n              minimumFractionDigits: 2\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-4 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-3\",\n          children: [/*#__PURE__*/_jsxDEV(RealTimeChart, {\n            predictions: predictions,\n            transactions: transactions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-b p-4 flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"font-semibold text-lg\",\n                children: \"Transaction History\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-500\",\n                children: [transactions.length, \" transactions recorded\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TransactionHistory, {\n              transactions: transactions,\n              predictions: predictions,\n              onSelectTransaction: handleSelectTransaction\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-b p-4\",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"font-semibold text-lg\",\n                children: \"Fraud Alerts\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FraudAlerts, {\n              transactions: transactions,\n              predictions: predictions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-b p-4\",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"font-semibold text-lg\",\n                children: \"Detection Model Overview\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-medium\",\n                    children: \"Logistic Regression\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm\",\n                    children: [(metrics.accuracies.logistic * 100).toFixed(1), \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full bg-gray-200 rounded-full h-2.5\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-blue-500 h-2.5 rounded-full\",\n                    style: {\n                      width: `${metrics.accuracies.logistic * 100}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-medium\",\n                    children: \"Random Forest\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm\",\n                    children: [(metrics.accuracies.random_forest * 100).toFixed(1), \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full bg-gray-200 rounded-full h-2.5\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-green-500 h-2.5 rounded-full\",\n                    style: {\n                      width: `${metrics.accuracies.random_forest * 100}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-medium\",\n                    children: \"XGBoost\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm\",\n                    children: [(metrics.accuracies.xgboost * 100).toFixed(1), \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full bg-gray-200 rounded-full h-2.5\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-purple-500 h-2.5 rounded-full\",\n                    style: {\n                      width: `${metrics.accuracies.xgboost * 100}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), selectedTransaction && predictions.length > 0 && (isModalOpen ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border-b flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold\",\n            children: \"Transaction Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: closeModal,\n            className: \"text-gray-500 hover:text-gray-800\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-6 w-6\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M6 18L18 6M6 6l12 12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: /*#__PURE__*/_jsxDEV(TransactionDetails, {\n            transaction: selectedTransaction,\n            prediction: predictions[transactions.indexOf(selectedTransaction)]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6\",\n      children: /*#__PURE__*/_jsxDEV(TransactionDetails, {\n        transaction: selectedTransaction,\n        prediction: predictions[transactions.indexOf(selectedTransaction)]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n};\n_s(FraudDetectionDashboard, \"yaxazJZO9VVDOEA5w+YtJxdq0A4=\");\n_c = FraudDetectionDashboard;\nexport default FraudDetectionDashboard;\nvar _c;\n$RefreshReg$(_c, \"FraudDetectionDashboard\");","map":{"version":3,"names":["React","useState","useEffect","RealTimeChart","TransactionHistory","FraudAlerts","TransactionDetails","jsxDEV","_jsxDEV","FraudDetectionDashboard","_s","predictions","setPredictions","transactions","setTransactions","selectedTransaction","setSelectedTransaction","isModalOpen","setIsModalOpen","connectionStatus","setConnectionStatus","stats","setStats","total","flagged","recentVolume","reconnectAttempts","maxReconnectAttempts","connectToServer","socket","WebSocket","onopen","event","console","log","onmessage","data","JSON","parse","message","transaction","prev","prevStats","isFraudulent","isFlaggedAsFraud","amount","prediction","onerror","error","onclose","timeout","Math","pow","setTimeout","close","xgboost","random_forest","logistic","handleSelectTransaction","closeModal","metrics","totalTransactions","length","fraudulentTransactions","filter","p","accuracies","modelData","name","accuracy","color","highRiskTransactions","map","index","item","slice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","toLocaleString","undefined","minimumFractionDigits","onSelectTransaction","style","width","onClick","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","indexOf","_c","$RefreshReg$"],"sources":["/home/ihab/Real-Time-Fraud-Detection-System/FraudDetApp-frontend/src/components/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { BarChart, Bar, XAxis, YAxis, Tooltip, Legend, ResponsiveContainer } from 'recharts';\n\n// Using original component names\nimport MetricsSummary from './MetricsSummary';\nimport RealTimeChart from './RealTimeChart_1';\nimport TransactionHistory from './TransactionHistory';\nimport FraudAlerts from './FraudAlerts';\nimport TransactionDetails from './TransactionDetails';\nimport { Transaction, Prediction, Metrics } from '../types/types';\n\nconst FraudDetectionDashboard: React.FC = () => {\n  // State management using original state variable names\n  const [predictions, setPredictions] = useState<Prediction[]>([]);\n  const [transactions, setTransactions] = useState<Transaction[]>([]);\n  const [selectedTransaction, setSelectedTransaction] = useState<Transaction | null>(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [connectionStatus, setConnectionStatus] = useState<'connecting' | 'connected' | 'disconnected'>('connecting');\n  const [stats, setStats] = useState({\n    total: 0,\n    flagged: 0,\n    recentVolume: 0\n  });\n  \n  // Connection management with retry logic\n  useEffect(() => {\n    let reconnectAttempts = 0;\n    const maxReconnectAttempts = 5;\n    \n    const connectToServer = () => {\n      setConnectionStatus('connecting');\n      const socket = new WebSocket(\"ws://localhost:8000/ws/fraud_detection/\");\n      \n      socket.onopen = (event) => {\n        console.log(\"WebSocket connection opened\", event);\n        setConnectionStatus('connected');\n        reconnectAttempts = 0;\n      };\n      \n      socket.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n        console.log(\"WebSocket message received:\", data);\n        \n        // Check if we have a \"message\" field (connection confirmation)\n        if (data.message) {\n          console.log(\"Connection message:\", data.message);\n          return;\n        }\n        \n        // Check if we received a prediction result\n        if (data.predictions && data.transaction) {\n          console.log(\"Adding new transaction:\", data.transaction);\n          console.log(\"With prediction:\", data.predictions);\n          \n          // Use functional updates to ensure state is correctly updated\n          setPredictions(prev => [...prev, data.predictions]);\n          setTransactions(prev => [...prev, data.transaction]);\n          \n          // Update statistics\n          setStats(prevStats => {\n            const isFraudulent = isFlaggedAsFraud(data.predictions);\n            return {\n              total: prevStats.total + 1,\n              flagged: isFraudulent ? prevStats.flagged + 1 : prevStats.flagged,\n              recentVolume: prevStats.recentVolume + (data.transaction.amount || 0)\n            };\n          });\n        } else if (data.prediction) {\n          // Handle the format where it's just \"prediction\" (not \"predictions\")\n          console.log(\"Adding new prediction:\", data.prediction);\n          setPredictions(prev => [...prev, data.prediction]);\n          \n          // If there's transaction data available\n          if (data.transaction) {\n            setTransactions(prev => [...prev, data.transaction]);\n            \n            // Update statistics\n            setStats(prevStats => {\n              const isFraudulent = isFlaggedAsFraud(data.prediction);\n              return {\n                total: prevStats.total + 1,\n                flagged: isFraudulent ? prevStats.flagged + 1 : prevStats.flagged,\n                recentVolume: prevStats.recentVolume + (data.transaction.amount || 0)\n              };\n            });\n          }\n        }\n      };\n      \n      socket.onerror = (error) => {\n        console.error(\"WebSocket error:\", error);\n        setConnectionStatus('disconnected');\n      };\n      \n      socket.onclose = (event) => {\n        console.log(\"WebSocket connection closed:\", event);\n        setConnectionStatus('disconnected');\n        \n        // Implement exponential backoff for reconnection\n        if (reconnectAttempts < maxReconnectAttempts) {\n          const timeout = Math.pow(2, reconnectAttempts) * 1000;\n          console.log(`Attempting reconnection in ${timeout/1000} seconds...`);\n          \n          setTimeout(() => {\n            reconnectAttempts++;\n            connectToServer();\n          }, timeout);\n        } else {\n          console.error(\"Maximum reconnection attempts reached\");\n        }\n      };\n      \n      return socket;\n    };\n    \n    const socket = connectToServer();\n    \n    return () => {\n      socket.close();\n    };\n  }, []);\n  \n  // Helper function to determine if a transaction is flagged as fraud\n  const isFlaggedAsFraud = (prediction: Prediction) => {\n    if (!prediction) return false;\n    return prediction.xgboost === 1 || \n           prediction.random_forest === 1 || \n           prediction.logistic === 1;\n  };\n  \n  // Event handlers\n  const handleSelectTransaction = (transaction: Transaction) => {\n    setSelectedTransaction(transaction);\n    setIsModalOpen(true);\n  };\n  \n  const closeModal = () => {\n    setIsModalOpen(false);\n    setSelectedTransaction(null);\n  };\n  \n  // Calculate metrics based on current state, using original metrics structure\n  const metrics: Metrics = {\n    totalTransactions: transactions.length,\n    fraudulentTransactions: predictions.filter(p => \n      p.xgboost === 1 || p.random_forest === 1 || p.logistic === 1\n    ).length,\n    accuracies: {\n      logistic: 0.85,\n      random_forest: 0.92,\n      xgboost: 0.95\n    }\n  };\n  \n  // Prepare data for model comparison chart\n  const modelData = [\n    { name: 'Logistic Reg.', accuracy: metrics.accuracies.logistic, color: '#8884d8' },\n    { name: 'Random Forest', accuracy: metrics.accuracies.random_forest, color: '#82ca9d' },\n    { name: 'XGBoost', accuracy: metrics.accuracies.xgboost, color: '#ffc658' }\n  ];\n  \n  // Get high risk transactions\n  const highRiskTransactions = transactions\n    .map((transaction, index) => ({\n      transaction,\n      prediction: predictions[index]\n    }))\n    .filter(item => isFlaggedAsFraud(item.prediction))\n    .slice(0, 5);\n  \n  return (\n    <div className=\"bg-slate-50 min-h-screen\">\n      <header className=\"bg-blue-500 text-white p-4 shadow-lg\">\n        <div className=\"container mx-auto flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-2xl font-bold\">Fraud Detection Dashboard</h1>\n            <p className=\"text-sm font-light\">Real-time transaction monitoring system</p>\n          </div>\n          <div className={`px-3 py-1 rounded-full text-sm font-medium ${\n            connectionStatus === 'connected' ? 'bg-green-100 text-green-800' :\n            connectionStatus === 'connecting' ? 'bg-yellow-100 text-yellow-800' :\n            'bg-red-100 text-red-800'\n          }`}>\n            {connectionStatus === 'connected' ? 'Connected' :\n            connectionStatus === 'connecting' ? 'Connecting...' :\n            'Disconnected'}\n          </div>\n        </div>\n      </header>\n      \n      <main className=\"container mx-auto p-4\">\n        {/* Dashboard Stats Row */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n          <div className=\"bg-white rounded-lg shadow p-4\">\n            <h3 className=\"text-gray-500 text-sm font-medium mb-2\">Total Transactions</h3>\n            <p className=\"text-3xl font-bold\">{metrics.totalTransactions}</p>\n          </div>\n          \n          <div className=\"bg-white rounded-lg shadow p-4\">\n            <h3 className=\"text-gray-500 text-sm font-medium mb-2\">Fraudulent Transactions</h3>\n            <p className=\"text-3xl font-bold text-red-600\">{metrics.fraudulentTransactions}</p>\n            <p className=\"text-sm text-gray-500\">\n              {metrics.totalTransactions > 0 ? `${((metrics.fraudulentTransactions / metrics.totalTransactions) * 100).toFixed(1)}%` : '0%'} Fraud Rate\n            </p>\n          </div>\n          \n          <div className=\"bg-white rounded-lg shadow p-4\">\n            <h3 className=\"text-gray-500 text-sm font-medium mb-2\">Transaction Volume</h3>\n            <p className=\"text-3xl font-bold\">\n              ${stats.recentVolume.toLocaleString(undefined, { minimumFractionDigits: 2 })}\n            </p>\n          </div>\n        </div>\n        \n        {/* Main Dashboard Content */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n          {/* Left Column - Charts & Transaction History */}\n          <div className=\"lg:col-span-3\">\n            \n            <RealTimeChart predictions={predictions} transactions={transactions} />\n            \n            <div className=\"bg-white rounded-lg shadow mt-6\">\n              <div className=\"border-b p-4 flex justify-between items-center\">\n                <h2 className=\"font-semibold text-lg\">Transaction History</h2>\n                <span className=\"text-sm text-gray-500\">\n                  {transactions.length} transactions recorded\n                </span>\n              </div>\n              <TransactionHistory \n                transactions={transactions}\n                predictions={predictions}\n                onSelectTransaction={handleSelectTransaction} \n              />\n            </div>\n          </div>\n          \n          {/* Right Column - Alerts & Model Overview */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-white rounded-lg shadow mb-6\">\n              <div className=\"border-b p-4\">\n                <h2 className=\"font-semibold text-lg\">Fraud Alerts</h2>\n              </div>\n              <FraudAlerts \n                transactions={transactions} \n                predictions={predictions} \n              />\n            </div>\n            \n            <div className=\"bg-white rounded-lg shadow mt-6\">\n              <div className=\"border-b p-4\">\n                <h2 className=\"font-semibold text-lg\">Detection Model Overview</h2>\n              </div>\n              <div className=\"p-4\">\n                <div className=\"space-y-4\">\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm font-medium\">Logistic Regression</span>\n                    <span className=\"text-sm\">{(metrics.accuracies.logistic * 100).toFixed(1)}%</span>\n                  </div>\n                  <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n                    <div className=\"bg-blue-500 h-2.5 rounded-full\" style={{ width: `${metrics.accuracies.logistic * 100}%` }}></div>\n                  </div>\n                  \n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm font-medium\">Random Forest</span>\n                    <span className=\"text-sm\">{(metrics.accuracies.random_forest * 100).toFixed(1)}%</span>\n                  </div>\n                  <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n                    <div className=\"bg-green-500 h-2.5 rounded-full\" style={{ width: `${metrics.accuracies.random_forest * 100}%` }}></div>\n                  </div>\n                  \n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm font-medium\">XGBoost</span>\n                    <span className=\"text-sm\">{(metrics.accuracies.xgboost * 100).toFixed(1)}%</span>\n                  </div>\n                  <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n                    <div className=\"bg-purple-500 h-2.5 rounded-full\" style={{ width: `${metrics.accuracies.xgboost * 100}%` }}></div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n      \n      {/* Transaction Details Modal or Section */}\n      {selectedTransaction && predictions.length > 0 && (\n        isModalOpen ? (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-auto\">\n              <div className=\"p-4 border-b flex justify-between items-center\">\n                <h2 className=\"text-xl font-bold\">Transaction Details</h2>\n                <button onClick={closeModal} className=\"text-gray-500 hover:text-gray-800\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n              <div className=\"p-6\">\n                <TransactionDetails \n                  transaction={selectedTransaction} \n                  prediction={predictions[transactions.indexOf(selectedTransaction)]} \n                />\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"mt-6\">\n            <TransactionDetails \n              transaction={selectedTransaction} \n              prediction={predictions[transactions.indexOf(selectedTransaction)]} \n            />\n          </div>\n        )\n      )}\n    </div>\n  );\n};\n\nexport default FraudDetectionDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}